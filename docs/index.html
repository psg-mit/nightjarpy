<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nightjar • Natural code with Shared Program State</title>
  <link rel="stylesheet" href="assets/style.css" />
</head>
<body>
  <header>
    <nav class="nav">
      <a class="logo" href="index.html">
        <img src="assets/nightjar2.png" alt="Nightjar logo" />
      </a>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="docs/index.html">Docs</a>
        <a href="https://github.com/psg-mit/nightjarpy" target="_blank" rel="noreferrer">GitHub</a>
        <a class="button" href="docs/index.html#quickstart">Get Started</a>
      </div>
    </nav>
  </header>

  <main>
    <section class="hero">
      <div class="hero-grid">
        <div class="hero-copy">
          <h1>Sharing states between prompts and programs.</h1>
          <p>Nightjar lets you embed natural-language code that executes on the same scope, heap, and control flow as your Python program. No additional glue code—just write your program logic.</p>
        </div>
<pre><code>import nightjarpy as nj

@nj.fn
def filter_and_process(items):
    valid_emails = []
    for item in items:
        """natural
        Check if &lt;item&gt; is a valid email address.
        If it's not a valid email,
        continue to the next loop iteration.
        If it is valid, add it to &lt;valid_emails&gt;
        and write a short &lt;:explanation&gt;
        """
        print(explanation)
    return valid_emails

emails = ["user@example.com", "invalid-email",
          "admin@company.org", "not-an-email",
          "support@help.com"]
valid = filter_and_process(emails)
print(f"Found {len(valid)} valid emails: {valid}")
print("Most recent explanation:", last_note)
</code></pre>
    </section>

    <section class="highlight-panels">
      <div class="panel-line">
        <h3>Shared variable scope</h3>
        <p>Natural code sees the same variables as your Python code. Reference existing values by name and create new bindings without extra glue code.</p>
      </div>
      <div class="panel-line">
        <h3>Shared heap</h3>
        <p>Objects live in one place. When natural code modifies a data structure, your Python code sees those changes automatically. No serialization code, no copying.</p>
      </div>
      <div class="panel-line">
        <h3>Shared control state</h3>
        <p>Natural code can implement control flow in the Python program. They can break loops, continue iterations, or raise exceptions.</p>
      </div>
    </section>

  </main>

  <footer>
    <div class="footer-inner">
      <span>Nightjar</span>
      <div class="nav-links">
        <a href="docs/index.html">Documentation</a>
        <a href="https://github.com/psg-mit/nightjarpy" target="_blank" rel="noreferrer">GitHub</a>
      </div>
    </div>
  </footer>
  <script src="assets/syntax.js"></script>
</body>
</html>
